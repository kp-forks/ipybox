
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="ipybox">
      
      
      
        <link rel="canonical" href="https://gradion-ai.github.io/ipybox/ccplugin/">
      
      
        <link rel="prev" href="../mcpserver/">
      
      
        <link rel="next" href="../api/code_executor/">
      
      
        
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>Claude Code plugin - ipybox</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Fira:300,300i,400,400i,700,700i%7CFira+Code:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Fira";--md-code-font:"Fira Code"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#programmatic-tool-calling-plugin-for-claude-code" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="ipybox" class="md-header__button md-logo" aria-label="ipybox" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ipybox
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Claude Code plugin
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4a5 5 0 0 0 5-5 5 5 0 0 0-5-5"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5M7 15a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/gradion-ai/ipybox" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    gradion-ai/ipybox
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href=".." class="md-tabs__link">
          
  
  
  User Guide

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../api/code_executor/" class="md-tabs__link">
          
  
  
  API Reference

        </a>
      </li>
    
  

    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="ipybox" class="md-nav__button md-logo" aria-label="ipybox" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    ipybox
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/gradion-ai/ipybox" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    gradion-ai/ipybox
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" checked>
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    User Guide
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    User Guide
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../quickstart/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Quickstart
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../apigen/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    API generation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../codeexec/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Code execution
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sandbox/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sandboxing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_7" checked>
        
          
          <label class="md-nav__link" for="__nav_1_7" id="__nav_1_7_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Agent Integration
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Agent Integration
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mcpserver/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ipybox MCP Server
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Claude Code plugin
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Claude Code plugin
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#environment-setup" class="md-nav__link">
    <span class="md-ellipsis">
      
        Environment setup
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#plugin-installation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Plugin installation
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Plugin installation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sandbox-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sandbox configuration
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage-example" class="md-nav__link">
    <span class="md-ellipsis">
      
        Usage example
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Usage example">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#register-the-github-mcp-server" class="md-nav__link">
    <span class="md-ellipsis">
      
        Register the GitHub MCP server
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-the-github-mcp-server-programmatically" class="md-nav__link">
    <span class="md-ellipsis">
      
        Use the GitHub MCP server programmatically
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generate-an-output-parser" class="md-nav__link">
    <span class="md-ellipsis">
      
        Generate an output parser
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chaining-tools-in-a-single-code-action" class="md-nav__link">
    <span class="md-ellipsis">
      
        Chaining tools in a single code action
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#saving-code-actions-as-tools" class="md-nav__link">
    <span class="md-ellipsis">
      
        Saving code actions as tools
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-saved-code-actions-as-tools" class="md-nav__link">
    <span class="md-ellipsis">
      
        Using saved code actions as tools
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    API Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    API Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    High-level API
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    High-level API
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/code_executor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Code Executor
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Low-level API
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Low-level API
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/tool_executor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tool Executor
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/kernel_manager/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Kernel Manager
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#environment-setup" class="md-nav__link">
    <span class="md-ellipsis">
      
        Environment setup
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#plugin-installation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Plugin installation
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Plugin installation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sandbox-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sandbox configuration
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage-example" class="md-nav__link">
    <span class="md-ellipsis">
      
        Usage example
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Usage example">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#register-the-github-mcp-server" class="md-nav__link">
    <span class="md-ellipsis">
      
        Register the GitHub MCP server
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-the-github-mcp-server-programmatically" class="md-nav__link">
    <span class="md-ellipsis">
      
        Use the GitHub MCP server programmatically
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generate-an-output-parser" class="md-nav__link">
    <span class="md-ellipsis">
      
        Generate an output parser
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chaining-tools-in-a-single-code-action" class="md-nav__link">
    <span class="md-ellipsis">
      
        Chaining tools in a single code action
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#saving-code-actions-as-tools" class="md-nav__link">
    <span class="md-ellipsis">
      
        Saving code actions as tools
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-saved-code-actions-as-tools" class="md-nav__link">
    <span class="md-ellipsis">
      
        Using saved code actions as tools
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="programmatic-tool-calling-plugin-for-claude-code">Programmatic tool calling plugin for Claude Code</h1>
<p>This plugin installs the <a href="../mcpserver/">ipybox MCP server</a> in Claude Code along with a <code>codeact</code><sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup> skill. It enables Claude Code to act by generating and executing code rather than JSON tool calls. The generated code calls MCP tools and previously saved code actions programmatically. </p>
<p>With this "code as tool" approach, saved code actions become tools themselves, available for use in future code actions. Over time, a library of code actions can be built, each composing other code actions and MCP tools.</p>
<p>The <code>codeact</code> skill provides guidance for Claude Code to discover MCP tools and code actions via agentic filesystem search, inspect the interfaces of relevant tools, generate code actions that use them, and save successful code actions for later reuse. </p>
<p>Tool search and inspection is performed on demand based on the current task. This progressive disclosure approach frees Claude Code from pre-loading tool sources into its context window, saving tokens and improving performance.</p>
<p>Code actions are stored with interface separated from implementation. This separation lets Claude Code inspect only the interface without being distracted by implementation details, further reducing token consumption during tool discovery.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This plugin is a demonstration of the "code as tool" approach. It is a prototype that requires further optimization and refinement.</p>
</div>
<p>The <code>codeact</code> skill distributes responsibilities between ipybox and Claude Code:</p>
<p>ipybox:</p>
<ul>
<li>Generates typed Python tool APIs from MCP server tool schemas</li>
<li>Executes Python code that uses the generated MCP tool APIs</li>
<li>Uses a stateful and sandboxed IPython kernel for code execution</li>
</ul>
<p>Claude Code:</p>
<ul>
<li>Discovers and selects MCP tools and stored code actions via agentic search</li>
<li>Generates and executes code in ipybox that calls selected MCP tools and code actions</li>
<li>Adds output parsers and structured result types to MCP tools that lack output schemas</li>
<li>Saves successful code actions with a structure optimized for discovery and reuse</li>
</ul>
<h2 id="environment-setup">Environment setup</h2>
<p>The <a href="#usage-example">example below</a> uses the <a href="https://github.com/github/github-mcp-server">GitHub MCP server</a>. Create a <code>.env</code> file with your GitHub personal access token (PAT) in the current working directory:</p>
<div class="highlight"><span class="filename">.env</span><pre><span></span><code>GITHUB_API_KEY=your-github-personal-access-token
</code></pre></div>
<p>The plugin automatically loads environment variables from this file.</p>
<h2 id="plugin-installation">Plugin installation</h2>
<p>Add the ipybox repository as plugin marketplace to Claude Code:</p>
<div class="highlight"><pre><span></span><code>claude<span class="w"> </span>plugin<span class="w"> </span>marketplace<span class="w"> </span>add<span class="w"> </span>https://github.com/gradion-ai/ipybox
</code></pre></div>
<p>Then install one of the available plugins:</p>
<table>
<thead>
<tr>
<th>Plugin</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>codeact-default</code></td>
<td>Runs ipybox without a sandbox</td>
</tr>
<tr>
<td><code>codeact-sandbox</code></td>
<td>Runs ipybox with a <a href="../sandbox/">sandboxed</a> IPython kernel</td>
</tr>
<tr>
<td><code>codeact-docker</code></td>
<td>Runs ipybox as a Docker container</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre><span></span><code>claude<span class="w"> </span>plugin<span class="w"> </span>install<span class="w"> </span>codeact-default@ipybox
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Only <strong>one</strong> plugin from this marketplace should be active at a time. Having multiple plugins active simultaneously may cause conflicts.</p>
</div>
<h3 id="sandbox-configuration">Sandbox configuration</h3>
<p>When using <code>codeact-sandbox</code>, you can optionally provide a <code>sandbox-config.json</code> file in the workspace directory to customize the sandbox configuration. If not provided, ipybox runs with the <a href="../sandbox/#default-sandbox">default sandbox</a>.</p>
<h2 id="usage-example">Usage example</h2>
<p>This example demonstrates a complete workflow: </p>
<ul>
<li><a href="#register-the-github-mcp-server">Registering an MCP server</a></li>
<li><a href="#use-the-github-mcp-server-programmatically">Using its tools programmatically</a></li>
<li><a href="#generate-an-output-parser">Generating an output parser</a></li>
<li><a href="#chaining-tools-in-a-single-code-action">Chaining tools in a single code action</a></li>
<li><a href="#saving-code-actions-as-tools">Saving the code action for reuse</a></li>
</ul>
<p>It uses two tools from the GitHub MCP server: </p>
<ul>
<li><code>search_repositories</code></li>
<li><code>list_commits</code></li>
</ul>
<h3 id="register-the-github-mcp-server">Register the GitHub MCP server</h3>
<div class="highlight"><span class="filename">User prompt</span><pre><span></span><code>Register this MCP server at ipybox under name github:
{
  &quot;url&quot;: &quot;https://api.githubcopilot.com/mcp/&quot;,
  &quot;headers&quot;: {
    &quot;Authorization&quot;: &quot;Bearer ${GITHUB_API_KEY}&quot;
  }
}
</code></pre></div>
<p>The <code>${GITHUB_API_KEY}</code> placeholder is automatically replaced with the value from your <code>.env</code> file.</p>
<p>This registers the GitHub MCP server and generates a typed Python API for its tools under <code>mcptools/github/</code>. Each tool becomes a module named after the tool (<code>search_repositories.py</code>, <code>list_commits.py</code>, etc.).</p>
<h3 id="use-the-github-mcp-server-programmatically">Use the GitHub MCP server programmatically</h3>
<p>The codeact skill can be activated in Claude Code with phrases like "use the codeact skill" or similar:</p>
<div class="highlight"><span class="filename">User prompt</span><pre><span></span><code>Use the codeact skill to get the latest 5 commits of the 3 github repos 
of torvalds with the most stars. For each repo, output name, stars and 
the first line of commit messages, and the link to the commit
</code></pre></div>
<p>Claude Code first lists directories under <code>mcptools/</code> to see which tools are available. It then reads the tool files <a href="https://github.com/gradion-ai/ipybox/blob/main/docs/generated/mcptools/github/search_repositories_orig.py">search_repositories.py</a> and <a href="https://github.com/gradion-ai/ipybox/blob/main/docs/generated/mcptools/github/list_commits.py">list_commits.py</a> to understand their interfaces, as these appear relevant to the task.</p>
<p>Claude Code generates two code actions. The first searches for the top 3 repos of Linus Torvalds sorted by stars:</p>
<div class="highlight"><span class="filename">Code action</span><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">json</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">mcptools.github</span><span class="w"> </span><span class="kn">import</span> <span class="n">search_repositories</span><span class="p">,</span> <span class="n">list_commits</span>

<span class="c1"># Search for torvalds&#39; repositories sorted by stars (descending)</span>
<span class="n">repos_result</span> <span class="o">=</span> <span class="n">search_repositories</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">search_repositories</span><span class="o">.</span><span class="n">Params</span><span class="p">(</span>
    <span class="n">query</span><span class="o">=</span><span class="s2">&quot;user:torvalds&quot;</span><span class="p">,</span>
    <span class="n">sort</span><span class="o">=</span><span class="n">search_repositories</span><span class="o">.</span><span class="n">Sort</span><span class="o">.</span><span class="n">stars</span><span class="p">,</span>
    <span class="n">order</span><span class="o">=</span><span class="n">search_repositories</span><span class="o">.</span><span class="n">Order</span><span class="o">.</span><span class="n">desc</span><span class="p">,</span>
    <span class="n">perPage</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
    <span class="n">minimal_output</span><span class="o">=</span><span class="kc">False</span>
<span class="p">))</span>

<span class="n">repos_data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">repos_result</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Found </span><span class="si">{</span><span class="n">repos_data</span><span class="p">[</span><span class="s1">&#39;total_count&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> repos&quot;</span><span class="p">)</span>

<span class="c1"># Get top 3 repos</span>
<span class="n">top_repos</span> <span class="o">=</span> <span class="n">repos_data</span><span class="p">[</span><span class="s1">&#39;items&#39;</span><span class="p">][:</span><span class="mi">3</span><span class="p">]</span>
<span class="k">for</span> <span class="n">repo</span> <span class="ow">in</span> <span class="n">top_repos</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;- </span><span class="si">{</span><span class="n">repo</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">repo</span><span class="p">[</span><span class="s1">&#39;stargazers_count&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> stars&quot;</span><span class="p">)</span>
</code></pre></div>
<p>Here, Claude Code makes assumptions about the tool response structure. The GitHub MCP server tools do not provide output schemas, so Claude Code guesses the structure from its training data. These assumptions may or may not be correct depending on the MCP server's popularity, but in this example they work. MCP tools that provide output schemas get a generated <code>Result</code> class with typed fields, but the GitHub MCP server tools return unstructured strings. </p>
<p>The second code action uses the repository information stored in <code>top_repos</code> to get the latest 5 commits of each repo:</p>
<div class="highlight"><span class="filename">Code action</span><pre><span></span><code><span class="c1"># Get latest 5 commits for each of the top 3 repos</span>
<span class="k">for</span> <span class="n">repo</span> <span class="ow">in</span> <span class="n">top_repos</span><span class="p">:</span>
    <span class="n">repo_name</span> <span class="o">=</span> <span class="n">repo</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
    <span class="n">stars</span> <span class="o">=</span> <span class="n">repo</span><span class="p">[</span><span class="s1">&#39;stargazers_count&#39;</span><span class="p">]</span>

    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="si">{</span><span class="s1">&#39;=&#39;</span><span class="o">*</span><span class="mi">60</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;üì¶ </span><span class="si">{</span><span class="n">repo_name</span><span class="si">}</span><span class="s2"> | ‚≠ê </span><span class="si">{</span><span class="n">stars</span><span class="si">:</span><span class="s2">,</span><span class="si">}</span><span class="s2"> stars&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="s1">&#39;=&#39;</span><span class="o">*</span><span class="mi">60</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="c1"># Get commits</span>
    <span class="n">commits_result</span> <span class="o">=</span> <span class="n">list_commits</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">list_commits</span><span class="o">.</span><span class="n">Params</span><span class="p">(</span>
        <span class="n">owner</span><span class="o">=</span><span class="s2">&quot;torvalds&quot;</span><span class="p">,</span>
        <span class="n">repo</span><span class="o">=</span><span class="n">repo_name</span><span class="p">,</span>
        <span class="n">perPage</span><span class="o">=</span><span class="mi">5</span>
    <span class="p">))</span>

    <span class="n">commits_data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">commits_result</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">commit</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">commits_data</span><span class="p">[:</span><span class="mi">5</span><span class="p">],</span> <span class="mi">1</span><span class="p">):</span>
        <span class="n">sha</span> <span class="o">=</span> <span class="n">commit</span><span class="p">[</span><span class="s1">&#39;sha&#39;</span><span class="p">]</span>
        <span class="n">short_sha</span> <span class="o">=</span> <span class="n">sha</span><span class="p">[:</span><span class="mi">7</span><span class="p">]</span>
        <span class="n">message</span> <span class="o">=</span> <span class="n">commit</span><span class="p">[</span><span class="s1">&#39;commit&#39;</span><span class="p">][</span><span class="s1">&#39;message&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># First line only</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">commit</span><span class="p">[</span><span class="s1">&#39;html_url&#39;</span><span class="p">]</span>

        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">. </span><span class="si">{</span><span class="n">message</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;   üîó </span><span class="si">{</span><span class="n">url</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<p>This prints the requested information. However, intermediate results were added to the agent's context window. To encourage Claude Code to chain <code>search_repositories</code> and <code>list_commits</code> in a single code action, we generate an output parser for <code>search_repositories</code>.</p>
<h3 id="generate-an-output-parser">Generate an output parser</h3>
<p>To compensate for the lack of output schemas, we generate an output parser for the <code>search_repositories</code> tool:</p>
<div class="highlight"><span class="filename">User prompt</span><pre><span></span><code>Generate an output parser for search_repositories
</code></pre></div>
<p>This adds a <code>run_parsed()</code> function to <a href="https://github.com/gradion-ai/ipybox/blob/main/docs/generated/mcptools/github/search_repositories.py">search_repositories.py</a>, returning a structured <code>ParseResult</code>. Claude Code infers this type by interacting with the tool using example inputs. The codeact skill encourages Claude Code to prioritize <code>run_parsed()</code> over <code>run()</code> when selecting tools.</p>
<p>The parsing implementation details are stored in <a href="https://github.com/gradion-ai/ipybox/blob/main/docs/generated/mcpparse/github/search_repositories.py">mcpparse/github/search_repositories.py</a>. Keeping implementation separate from interface prevents polluting the interfaces that Claude Code inspects.</p>
<h3 id="chaining-tools-in-a-single-code-action">Chaining tools in a single code action</h3>
<p>Running the same task again (optionally after restarting Claude Code), Claude Code now chains the tools in a single code action because it knows the structure of the <code>search_repositories</code> result up-front. It uses the new <code>run_parsed()</code> function and navigates the structured output based on the <code>ParseResult</code> type:</p>
<div class="highlight"><span class="filename">User prompt</span><pre><span></span><code>Use the codeact skill to get the latest 5 commits of the 3 github repos 
of torvalds with the most stars. For each repo, output name, stars and 
the first line of commit messages, and the link to the commit
</code></pre></div>
<div class="highlight"><span class="filename">Code action</span><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">json</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">mcptools.github</span><span class="w"> </span><span class="kn">import</span> <span class="n">search_repositories</span><span class="p">,</span> <span class="n">list_commits</span>

<span class="c1"># Get Torvalds&#39; repos sorted by stars</span>
<span class="n">repos_result</span> <span class="o">=</span> <span class="n">search_repositories</span><span class="o">.</span><span class="n">run_parsed</span><span class="p">(</span>
    <span class="n">search_repositories</span><span class="o">.</span><span class="n">Params</span><span class="p">(</span>
        <span class="n">query</span><span class="o">=</span><span class="s2">&quot;user:torvalds&quot;</span><span class="p">,</span>
        <span class="n">sort</span><span class="o">=</span><span class="n">search_repositories</span><span class="o">.</span><span class="n">Sort</span><span class="o">.</span><span class="n">stars</span><span class="p">,</span>
        <span class="n">order</span><span class="o">=</span><span class="n">search_repositories</span><span class="o">.</span><span class="n">Order</span><span class="o">.</span><span class="n">desc</span><span class="p">,</span>
        <span class="n">perPage</span><span class="o">=</span><span class="mi">3</span>
    <span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Get top 3 repos</span>
<span class="n">top_repos</span> <span class="o">=</span> <span class="n">repos_result</span><span class="o">.</span><span class="n">repositories</span><span class="p">[:</span><span class="mi">3</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">top_repos</span><span class="p">)</span><span class="si">}</span><span class="s2"> repos</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">repo</span> <span class="ow">in</span> <span class="n">top_repos</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;üì¶ </span><span class="si">{</span><span class="n">repo</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> ‚≠ê </span><span class="si">{</span><span class="n">repo</span><span class="o">.</span><span class="n">stargazers_count</span><span class="si">:</span><span class="s2">,</span><span class="si">}</span><span class="s2"> stars&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-&quot;</span> <span class="o">*</span> <span class="mi">60</span><span class="p">)</span>

    <span class="c1"># Get latest 5 commits</span>
    <span class="n">commits_raw</span> <span class="o">=</span> <span class="n">list_commits</span><span class="o">.</span><span class="n">run</span><span class="p">(</span>
        <span class="n">list_commits</span><span class="o">.</span><span class="n">Params</span><span class="p">(</span>
            <span class="n">owner</span><span class="o">=</span><span class="s2">&quot;torvalds&quot;</span><span class="p">,</span>
            <span class="n">repo</span><span class="o">=</span><span class="n">repo</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="n">perPage</span><span class="o">=</span><span class="mi">5</span>
        <span class="p">)</span>
    <span class="p">)</span>

    <span class="c1"># Parse the commits JSON</span>
    <span class="n">commits</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">commits_raw</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">commit</span> <span class="ow">in</span> <span class="n">commits</span><span class="p">[:</span><span class="mi">5</span><span class="p">]:</span>
        <span class="n">sha</span> <span class="o">=</span> <span class="n">commit</span><span class="p">[</span><span class="s2">&quot;sha&quot;</span><span class="p">][:</span><span class="mi">7</span><span class="p">]</span>
        <span class="n">message</span> <span class="o">=</span> <span class="n">commit</span><span class="p">[</span><span class="s2">&quot;commit&quot;</span><span class="p">][</span><span class="s2">&quot;message&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">commit</span><span class="p">[</span><span class="s2">&quot;html_url&quot;</span><span class="p">]</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  </span><span class="si">{</span><span class="n">sha</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">message</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;         </span><span class="si">{</span><span class="n">url</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">()</span>
</code></pre></div>
<h3 id="saving-code-actions-as-tools">Saving code actions as tools</h3>
<p>Code actions can be saved and reused as tools in later code actions. To save the previous code action, use a prompt like:</p>
<div class="highlight"><span class="filename">User prompt</span><pre><span></span><code>Save this as code action under github category with name commits_of_top_repos. 
Make username, top_n_repos and last_n_commits parameters
</code></pre></div>
<p>This creates a new package <code>gentools/github/commits_of_top_repos/</code> with an <a href="https://github.com/gradion-ai/ipybox/blob/main/docs/generated/gentools/github/commits_of_top_repos/api.py">api.py</a> module that defines the typed interface and an <a href="https://github.com/gradion-ai/ipybox/blob/main/docs/generated/gentools/github/commits_of_top_repos/impl.py">impl.py</a> module that contains the implementation. </p>
<p>The interface in <code>api.py</code> exposes the tool's parameters and return types and is relevant for understanding tool usage. The implementation in <code>impl.py</code> is not inspected by Claude Code during tool selection, saving token usage.</p>
<h3 id="using-saved-code-actions-as-tools">Using saved code actions as tools</h3>
<p>After restarting Claude Code or clearing its context window, to enforce re-discovery of tools, the same task now uses the saved code action:</p>
<div class="highlight"><span class="filename">User prompt</span><pre><span></span><code>Use the codeact skill to get the latest 5 commits of the 3 github repos 
of torvalds with the most stars. For each repo, output name, stars and 
the first line of commit messages, and the link to the commit
</code></pre></div>
<div class="highlight"><span class="filename">Code action</span><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">gentools.github.commits_of_top_repos</span><span class="w"> </span><span class="kn">import</span> <span class="n">run</span>

<span class="n">results</span> <span class="o">=</span> <span class="n">run</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s2">&quot;torvalds&quot;</span><span class="p">,</span> <span class="n">top_n_repos</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">last_n_commits</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

<span class="k">for</span> <span class="n">repo</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">## </span><span class="si">{</span><span class="n">repo</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">repo</span><span class="o">.</span><span class="n">stars</span><span class="si">:</span><span class="s2">,</span><span class="si">}</span><span class="s2"> ‚≠ê)&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;-&quot;</span> <span class="o">*</span> <span class="mi">60</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">commit</span> <span class="ow">in</span> <span class="n">repo</span><span class="o">.</span><span class="n">commits</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;‚Ä¢ </span><span class="si">{</span><span class="n">commit</span><span class="o">.</span><span class="n">message</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  </span><span class="si">{</span><span class="n">commit</span><span class="o">.</span><span class="n">url</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div>
<p>To conclude, the usage pattern in this example supports building a library of code actions. Each saved code action becomes a tool available for use in future code actions, enabling composition and reuse.</p>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>Executable Code Actions Elicit Better LLM Agents: <a href="https://arxiv.org/abs/2402.01030">https://arxiv.org/abs/2402.01030</a>&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
</ol>
</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2025-2026 Gradion AI
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "..", "features": ["navigation.tabs", "navigation.sections", "navigation.instant", "navigation.instant.prefetch", "navigation.instant.preview", "navigation.instant.progress", "navigation.top", "navigation.tracking", "search.suggest", "toc.follow", "content.code.copy", "content.code.select", "content.code.annotate"], "search": "../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
    
  </body>
</html>